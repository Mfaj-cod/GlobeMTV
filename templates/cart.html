{% extends "base.html" %}
{% block content %}

<section class="container cart text-center">
  <h2 class="section-title mb-4">Your Cart</h2>

  {% if items %}
<div class="d-flex justify-content-center">
  <div class="table-responsive" style="max-width: 900px;">
    <table class="table table-striped align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th></th>
          <th></th>
          <th>Price</th>
          <th></th>
          <th></th>
          <th>Quantity</th>
          <th></th>
          <th></th>
          <th>Subtotal</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for item in items %}
        <tr>
          <td>{{ item['name'] }}</td>
          <td></td>
          <td></td>
          <td>${{ '%.2f' % item['price'] }}</td>
          <td></td>
          <td></td>
          <td class="text-center">
          {% if item['quantity'] > 1 %}
           <a href="{{ url_for('update_quantity', cart_id=item['id'], action='decrease') }}" class="btn btn-sm btn-outline-secondary">-</a>
          {% endif %}
            <span class="mx-2">{{ item['quantity'] }}</span>
            <a href="{{ url_for('update_quantity', cart_id=item['id'], action='increase') }}" class="btn btn-sm btn-outline-secondary">+</a>
          </td>
          <td></td>
          <td></td>
          <td>${{ '%.2f' % (item['price'] * item['quantity']) }}</td>
          <td></td>
          <td></td>
          <td>
            <a href="{{ url_for('remove_from_cart', cart_id=item['id']) }}" 
   class="btn btn-sm btn-danger">Remove</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="cart-summary text-end mt-4">
    <h3>Total: ${{ '%.2f' % total }}</h3>
    <a href="{{ url_for('checkout') }}" class="btn btn-primary w-100" style="width: 200px;">Proceed to Checkout</a>
  </div>
</div>
  {% else %}
  <div class="alert alert-info mt-4">
    Your cart is empty. <a href="{{ url_for('home') }}">Start shopping!</a>
  </div>
  {% endif %}
</section>
{% endblock %}
